/**
 * Copy Rights All Reserved.
 * Created by ContrixLab
 *  
 */
$(function(){var e=$("div.cube-path").attr("data-cube-path");Modernizr.load([{test:Modernizr.webgl,yep:["wp-content/plugins/contrix-3d-coming-soon/themes/default/libs/Detector.js","wp-content/plugins/contrix-3d-coming-soon/themes/default/libs/CurveExtras.js","wp-content/plugins/contrix-3d-coming-soon/themes/default/libs/RequestAnimationFrame.js"],complete:function(){function i(){d=document.createElement("div"),document.body.appendChild(d),s=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e5),c=new THREE.Scene,l=new THREE.Object3D,l.position.y=100,c.add(l),w=new THREE.PerspectiveCamera(84,window.innerWidth/window.innerHeight,.01,1e3),l.add(w),l.add(s);var i=".jpg",t=[e+"posx"+i,e+"negx"+i,e+"posy"+i,e+"negy"+i,e+"posz"+i,e+"negz"+i],r=THREE.ImageUtils.loadTextureCube(t);r.format=THREE.RGBFormat,n(r),c.matrixAutoUpdate=!1;var a=THREE.ShaderLib.cube;a.uniforms.tCube.value=r;var h=new THREE.ShaderMaterial({fragmentShader:a.fragmentShader,vertexShader:a.vertexShader,uniforms:a.uniforms,side:THREE.BackSide}),u=new THREE.Mesh(new THREE.BoxGeometry(1e3,1e3,1e3),h);l.add(u),p=new THREE.WebGLRenderer({antialias:!1}),p.setPixelRatio(window.devicePixelRatio),p.setSize(window.innerWidth,window.innerHeight),p.autoClear=!1,d.appendChild(p.domElement),window.addEventListener("resize",o,!1)}function n(e){var i=new THREE.Curves.TrefoilKnot,n=200,o=!0,r=3;h=new THREE.TubeGeometry(i,n,2,r,o),t(h,16777215,e)}function t(e,i,n){u=THREE.SceneUtils.createMultiMaterialObject(e,[new THREE.MeshLambertMaterial({color:i}),new THREE.MeshBasicMaterial({envMap:n})]),l.add(u),u.scale.set(m,m,m)}function o(){f=window.innerWidth/2,b=window.innerHeight/2,s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight)}function r(){requestAnimationFrame(r),a()}function a(){var e=Modernizr.touch?6*v:v,i=e+.01*E;i=E>0?Math.max(2*e,i):Math.max(.5*e,i);var n=Date.now(),t=1e3*i,o=n%t/t,r=h.parameters.path.getPointAt(o);r.multiplyScalar(m);var a=h.tangents.length,d=o*a,s=Math.floor(d),l=(s+1)%a;H.subVectors(h.binormals[l],h.binormals[s]),H.multiplyScalar(d-s).add(h.binormals[s]);var u=h.parameters.path.getTangentAt(o),g=15;R.copy(H).cross(u),r.add(R.clone().multiplyScalar(g)),w.position.copy(r);var f=new THREE.Vector3;f.copy(r).add(u),w.matrix.lookAt(w.position,f,R),w.rotation.setFromRotationMatrix(w.matrix,w.rotation.order),p.clear(),p.render(c,w)}if(Modernizr.webgl){var d,s,w,c,p,l,h,u,m=4,g=0,E=0,v=50,f=window.innerWidth/2,b=window.innerHeight/2,H=new THREE.Vector3,R=new THREE.Vector3;i(),r(),$(document).click(function(e){g=10*(e.clientX-f),E=10*(e.clientY-b)})}else if(!Modernizr.touch&&Modernizr.video){var T=new $.BigVideo({doLoop:!0});T.init(),T.show([{type:"video/mp4",src:e+"video/480.mp4"},{type:"video/webm",src:e+"video/480.webm"},{type:"video/ogg",src:e+"video/480.ogv"}])}else if(Modernizr.touch)$("div.site-wrapper").css({backgroundImage:"url('"+e+"posz.jpg')",backgroundSize:"cover"});else{var x=$("<img id='bg-image' src='"+e+"posz.jpg' style='width:"+$(window).innerWidth()+"px;height:"+$(window).innerHeight()+"px;position:absolute,top:0,left:0' />");$("body").prepend(x),$("div.site-wrapper").css({zIndex:2,top:0}),$(window).resize(function(){$("#bg-image").css({width:$(window).innerWidth()+"px",height:$(window).innerHeight()+"px"})})}{var M=$(".countdown:first").attr("data-end-date"),y=$(window).width()>500?"lg":"md";$(".countdown:first").flipcountdown({size:y,beforeDateTime:M})}$(".social-popup").click(function(){var e=575,i=400,n=($(window).width()-e)/2,t=($(window).height()-i)/2,o=this.href,r="status=1,width="+e+",height="+i+",top="+t+",left="+n;return window.open(o,"social-popup",r),!1})}}])});